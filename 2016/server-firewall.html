<!DOCTYPE html>
<html lang="da">
<head>
 <meta charset="utf-8">
 <title>'Server hardening' - Ops&aelig;tning af firewall
 | logiskhave</title>
 <meta name="description" content="Log ajourf&oslash;rt af Kresten Jacobsen.">
 <meta name="viewport" content="width=720">
 <link rel="icon" href="/static/favicon.ico">
 <link rel="apple-touch-icon" href="/static/apple-touch-icon.jpg"/>
 <link rel="stylesheet" href="/css/theme.css" type="text/css">
 <link rel="alternate" type="application/rss+xml" title="" href="/rss.xml">
</head>
<body>
    <div id="container">
        <div id="header">
            <h1><span>Jeg er</span> <a title="Kolofon" href="/colophon.html">Kresten Jacobsen.</a> <span>Dette er</span> <a title="Log" href="/"> min log.</a></h1>
        </div><!-- /header --><div class="post">
		<p class="date">29. Januar, 2016</p>
    	<h2>
            
                'Server hardening' - Ops&aelig;tning af firewall

            
        </h2>
       	<p><img alt="Serving" src="https://log.logiskhave.dk/static/20160126_server.jpg" title="Live to serve..." /></p>
<p>En firewall er en effektiv måde at blokere ikke-ønsket trafik mod din server. På Ubuntu kan man selv rette i de relativt komplicerede <a href="http://manpages.ubuntu.com/manpages/trusty/man8/iptables.8.html">iptables</a> eller installere UFW (Uncomplicated FireWall), ved at apt-get'e pakken ufw. ufw er en slags 'front end' til iptables og noget lettere at have med at gøre. Vi snupper den sidste her.</p>
<pre class="codehilite"><code>sudo apt-get install ufw</code></pre>


<p>Først garanteres trafik via ssh og http.</p>
<pre class="codehilite"><code>sudo ufw allow ssh
sudo ufw allow http</code></pre>


<p>Derefter blokeres telnet specifikt og resten per default...</p>
<pre class="codehilite"><code>sudo ufw deny 23
sudo ufw default deny</code></pre>


<p>Slå firewallen til.</p>
<pre class="codehilite"><code>sudo ufw enable</code></pre>


<p>Og endelig: Check status på firewallen.</p>
<pre class="codehilite"><code>sudo ufw status verbose</code></pre>


<p><em>Bonus</em>: Som nævnt er ufw et administrationsmodul til iptables og man kan læse reglerne i ip-tables.</p>
<pre class="codehilite"><code>sudo iptables -L</code></pre>


<p>Det kan dog være lidt svært at gennemskue hvad der er sket, hvis ikke også man har kørt ovenstående før man lavede ændringerne og så sammenligner. ;)</p>
<hr />
<p><em>Posts om server hardening:</em></p>
<ul>
<li><a href="/2016/server-opdater.html">Automatiske opdateringer</a></li>
<li><a href="/2016/server-ssh.html">Sikring af SSH</a></li>
<li><a href="/2016/server-firewall.html">Skærm af med en firewall</a></li>
<li><em>Kommer</em>: <a href="">Login med private keys</a></li>
<li><a href="/2016/server-fail2ban.html">Bloker uønsket trafik med fail2ban</a></li>
<li><em>Kommer</em>: ???</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Herefter bare Ubuntu; men det meste vil også gælde på Debian.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div>
	<div class="navleft">
		<a rel="prev prefetch" href="/archive.html">&lsaquo;&nbsp; Til arkivet</a>
	</div>

        <div id="footer">
            <p>Kresten Jacobsen @ logiskhave</p><p>Udgivet under <a href="//static.logiskhave.dk/solipsistisk_licens.html">Solipsistisk Offentlig Licens</a></p>
        </div><!-- /footer -->
    </div><!-- /container -->
</body>
</html>